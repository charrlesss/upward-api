"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[7261],{7261:function(e,l,n){n.r(l),n.d(l,{agentColumn:function(){return Z},clientColumn:function(){return _},default:function(){return D},tplColumns:function(){return N}});var a=n(9439),i=n(2791),t=n(891),o=n(8550),d=n(3400),s=n(8096),r=n(829),c=n(8406),u=n(3786),h=n(1421),f=n(1413),g=n(5987),x=n(1652),p=n(4246),m=n(8116),v=n(184),y=["label","name","onChange","value"];function C(e){var l=e.label,n=e.name,a=e.onChange,i=e.value,t=(0,g.Z)(e,y);return(0,v.jsx)(x._,{dateAdapter:p.H,children:(0,v.jsx)(m.M,(0,f.Z)({value:i,onChange:a,slotProps:{textField:{size:"small",label:l,name:n}}},t))})}var b=n(1582),j=n(9422),_=[{field:"entry_client_id",headerName:"ID",width:130},{field:"fullname",headerName:"First Name",flex:1},{field:"entry_type",headerName:"ID Type",width:150}],N=[{field:"Source_No",headerName:"ID",width:130},{field:"Cost",headerName:"Cost",flex:1}],Z=[{field:"entry_agent_id",headerName:"ID",width:130},{field:"fullname",headerName:"First Name",flex:1},{field:"entry_type",headerName:"ID Type",width:150}],I="vehicle-policy",w="agent-policy",P="tpl-policy";function D(){var e,l=(0,i.useContext)(t.VehicleContext),n=l.state,f=l.handleInputChange,g=l.isLoading,x=l.clientRows,p=l.setClientRows,m=l.handleDateChange,y=l.myAxios,D=l.user,A=l.agentRows,z=l.setAgentRows,W=l.data,S=l.tplLoading,k=l.tplId,R=l.setTplId,M=l.isAddOrEditMode,T=(0,i.useState)(!1),O=(0,a.Z)(T,2),L=O[0],F=O[1],B=(0,i.useState)(!1),E=(0,a.Z)(B,2),G=E[0],U=E[1],q=(0,i.useState)(!1),K=(0,a.Z)(q,2),V=K[0],H=K[1];return(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{style:{display:"grid",gap:"20px",gridTemplateAreas:'"content1 content2" "content3 content4" "content5 content5"'},children:[(0,v.jsxs)("fieldset",{style:{display:"flex",flexDirection:"column",gap:"10px",gridArea:"content1",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px"},children:[(0,v.jsx)("legend",{style:{color:"#065f46"},children:"Insurer Information"}),(0,v.jsxs)("div",{style:{display:"flex",columnGap:"10px"},children:[(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Client ID",name:"client_id",value:n.client_id,onChange:f,InputProps:{readOnly:!0}}),(0,v.jsx)(d.Z,{disabled:M,"aria-label":"search-client",color:"secondary",onClick:function(){return F(!0)},children:(0,v.jsx)(h.Z,{})})]}),(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Client Name",name:"client_name",value:n.client_name,onChange:f,InputProps:{readOnly:!0}}),(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Client Address",rows:3,multiline:!0,name:"client_address",value:n.client_address,onChange:f,InputProps:{readOnly:!0}})]}),(0,v.jsxs)("fieldset",{style:{display:"flex",flexDirection:"column",gap:"10px",gridArea:"content2",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px"},children:[(0,v.jsx)("legend",{style:{color:"#065f46"},children:"Agent Information"}),(0,v.jsxs)("div",{style:{display:"flex",columnGap:"10px"},children:[(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Agent ID",name:"agent_id",value:n.agent_id,onChange:f,InputProps:{readOnly:!0}}),(0,v.jsx)(d.Z,{disabled:M,"aria-label":"search-client",color:"secondary",onClick:function(){return U(!0)},children:(0,v.jsx)(h.Z,{})})]}),(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Agent Name",name:"agent_name",value:n.agent_name,onChange:f,InputProps:{readOnly:!0}}),(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Commission",name:"agent_com",value:n.agent_com,onChange:f})]}),(0,v.jsxs)("fieldset",{style:{display:"flex",flexDirection:"column",gap:"10px",gridArea:"content3",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px"},children:[(0,v.jsx)("legend",{style:{color:"#065f46"},children:"Vehivle Policy"}),(0,v.jsxs)(s.Z,{size:"small",fullWidth:!0,disabled:M,children:[(0,v.jsx)(r.Z,{id:"PolicyAccount",children:"Account"}),(0,v.jsx)(c.Z,{labelId:"PolicyAccount",value:n.PolicyAccount,label:"Account",name:"PolicyAccount",onChange:f,children:W.data.vehiclePolicy.policy_account["".concat(n.form_type.toLowerCase())].map((function(e,l){return(0,v.jsx)(u.Z,{value:e.Account,children:e.Account},l)}))})]}),"tpl"===n.form_type.toLowerCase()?(0,v.jsx)(i.Fragment,{children:S?(0,v.jsx)("div",{children:"Loading IDs Please wait..."}):(0,v.jsxs)("div",{style:{display:"flex",columnGap:"10px"},children:[(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Policy No",name:"PolicyNo",value:n.PolicyNo,onChange:f,InputProps:{readOnly:!0}}),(0,v.jsx)(d.Z,{disabled:M,"aria-label":"search-client",color:"secondary",onClick:function(){return H(!0)},children:(0,v.jsx)(j.Z,{})})]})}):"REG"===n.form_action?(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Policy No.",name:"PolicyNo",value:n.PolicyNo,onChange:f}):(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Policy No.",name:"PolicyNo",value:n.PolicyNo,onChange:f,InputProps:{readOnly:!0}}),(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Certificate of Cover No.",name:"CCN",value:n.CCN,onChange:f}),(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Official Receipt No.",name:"ORN",value:n.ORN,onChange:f})]}),(0,v.jsxs)("fieldset",{style:{display:"flex",flexDirection:"column",gap:"10px",gridArea:"content4",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px"},children:[(0,v.jsx)("legend",{style:{color:"#065f46"},children:"Period of Insurance"}),(0,v.jsx)(C,{disabled:M,label:"Date From",onChange:function(e){m(e,"DateFrom")},value:new Date(n.DateFrom)}),(0,v.jsx)(C,{disabled:M,label:"Date To",onChange:function(e){m(e,"DateTo")},value:new Date(n.DateTo)}),(0,v.jsx)(C,{label:"Date Issued",name:"DateIssued",onChange:function(e){m(e,"DateIssued")},value:new Date(n.DateIssued),disabled:M})]}),(0,v.jsxs)("fieldset",{style:{display:"flex",gap:"20px",gridArea:"content5",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px"},children:[(0,v.jsx)("legend",{style:{color:"#065f46"},children:"Insured Unit"}),(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",gridArea:"content4",flex:1},children:[(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Model",name:"Model",value:n.Model,onChange:f}),(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Make",name:"Make",value:n.Make,onChange:f}),(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Type of Body",name:"TB",value:n.TB,onChange:f}),(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Color",name:"Color",value:n.Color,onChange:f}),(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"BLT File No",name:"BLTFileNo",value:n.BLTFileNo,onChange:f})]}),(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",gridArea:"content4",flex:1},children:[(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Plate No",name:"PlateNo",value:n.PlateNo,onChange:f}),(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Chassis No",name:"ChassisNo",value:n.ChassisNo,onChange:f}),(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Motor No.",name:"MotorNo",value:n.MotorNo,onChange:f}),(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Authorized Capacity",name:"AuthorizedCapacity",value:n.AuthorizedCapacity,onChange:f}),(0,v.jsx)(o.Z,{disabled:M,fullWidth:!0,variant:"outlined",size:"small",label:"Unladen Weigth",name:"UnladenWeigth",value:n.UnladenWeigth,onChange:f})]})]})]}),(0,v.jsx)(b.Z,{showModal:L,onCloseModal:function(){F(!1)},onClickCloseIcon:function(){F(!1)},searchOnChange:function(e){y.get("/task/production/search-client-vehicle-policy?clientSearch=".concat(e.target.value),{headers:{Authorization:"Bearer ".concat(null===D||void 0===D?void 0:D.accessToken)}}).then((function(e){var l;if(null===e||void 0===e||!e.data.success)return alert("Error : ".concat(null===e||void 0===e?void 0:e.data.message));p(null===e||void 0===e||null===(l=e.data.vehiclePolicy)||void 0===l?void 0:l.clients)}))},height:300,isLoading:g,queryKey:I,columns:_,onSelectionChange:function(e,l){if(!(e.length<=0)){var n=new Set(e),a=l.filter((function(e){return n.has(e.entry_client_id.toString())}));a.length<=0||(m(a[0].entry_client_id,"client_id"),m(a[0].fullname,"client_name"),m(a[0].address,"client_address"),F(!1))}},id:"entry_client_id",rows:x,setRows:p}),(0,v.jsx)(b.Z,{showModal:G,onCloseModal:function(){U(!1)},onClickCloseIcon:function(){U(!1)},searchOnChange:function(e){y.get("/task/production/search-agent-vehicle-policy?agentSearch=".concat(e.target.value),{headers:{Authorization:"Bearer ".concat(null===D||void 0===D?void 0:D.accessToken)}}).then((function(e){var l;if(null===e||void 0===e||!e.data.success)return alert("Error : ".concat(null===e||void 0===e?void 0:e.data.message));z(null===e||void 0===e||null===(l=e.data.vehiclePolicy)||void 0===l?void 0:l.agents)}))},height:300,isLoading:g,queryKey:w,columns:Z,onSelectionChange:function(e,l){if(!(e.length<=0)){var n=new Set(e),a=l.filter((function(e){return n.has(e.entry_agent_id.toString())}));a.length<=0||(m(a[0].entry_agent_id,"agent_id"),m(a[0].fullname,"agent_name"),U(!1))}},id:"entry_agent_id",rows:A,setRows:z}),(0,v.jsx)(b.Z,{showModal:V,onCloseModal:function(){H(!1)},onClickCloseIcon:function(){H(!1)},searchOnChange:function(e){y.get("/task/production/tpl-ids-vehicle-policy?tplIDSearch=".concat(e.target.value),{headers:{Authorization:"Bearer ".concat(null===D||void 0===D?void 0:D.accessToken)}}).then((function(e){if(null===e||void 0===e||!e.data.success)return alert("Error : ".concat(null===e||void 0===e?void 0:e.data.message));R(null===e||void 0===e?void 0:e.data)}))},height:300,isLoading:S,queryKey:P,columns:N,onSelectionChange:function(e,l){if(!(e.length<=0)){var n=new Set(e),a=l.filter((function(e){return n.has(e.Source_No.toString())}));a.length<=0||(m(a[0].Source_No,"PolicyNo"),m(a[0].Cost,"rateCost"),m(a[0].Source_No_Ref_ID,"Source_No_Ref_ID"),H(!1))}},id:"Source_No",rows:null===k||void 0===k||null===(e=k.vehiclePolicy)||void 0===e?void 0:e.tpl,setRows:R})]})}}}]);
//# sourceMappingURL=7261.a6b1c698.chunk.js.map