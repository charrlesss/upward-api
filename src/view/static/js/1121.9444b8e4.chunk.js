"use strict";(self.webpackChunkupward=self.webpackChunkupward||[]).push([[1121],{3784:function(e,l,n){n.d(l,{Z:function(){return c}});var a=n(1413),i=n(5987),t=(n(2791),n(1652)),o=n(4246),d=n(3777),s=n(184),r=["label","name","onChange","value"];function c(e){var l=e.label,n=e.name,c=e.onChange,u=e.value,h=(0,i.Z)(e,r);return(0,s.jsx)(t._,{dateAdapter:o.H,children:(0,s.jsx)(d.M,(0,a.Z)({value:u,onChange:c,slotProps:{textField:{size:"small",label:l,name:n}}},h))})}},1121:function(e,l,n){n.r(l),n.d(l,{agentColumn:function(){return y},clientColumn:function(){return p},default:function(){return _},tplColumns:function(){return m}});var a=n(9439),i=n(2791),t=n(891),o=n(8550),d=n(3400),s=n(8096),r=n(829),c=n(8406),u=n(3786),h=n(1421),f=n(3784),g=n(1582),x=n(9422),v=n(184),p=[{field:"entry_client_id",headerName:"ID",width:130},{field:"fullname",headerName:"First Name",flex:1},{field:"entry_type",headerName:"ID Type",width:150}],m=[{field:"Source_No",headerName:"ID",width:130},{field:"Cost",headerName:"Cost",flex:1}],y=[{field:"entry_agent_id",headerName:"ID",width:130},{field:"fullname",headerName:"First Name",flex:1},{field:"entry_type",headerName:"ID Type",width:150}],C="vehicle-policy",b="agent-policy",j="tpl-policy";function _(){var e,l=(0,i.useContext)(t.VehicleContext),n=l.state,_=l.handleInputChange,N=l.isLoading,Z=l.clientRows,I=l.setClientRows,P=l.handleDateChange,w=l.myAxios,z=l.user,D=l.agentRows,A=l.setAgentRows,W=l.data,S=l.tplLoading,k=l.tplId,M=l.setTplId,R=l.isAddOrEditMode,T=(0,i.useState)(!1),O=(0,a.Z)(T,2),L=O[0],F=O[1],B=(0,i.useState)(!1),E=(0,a.Z)(B,2),G=E[0],U=E[1],q=(0,i.useState)(!1),K=(0,a.Z)(q,2),V=K[0],H=K[1];return(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{style:{display:"grid",gap:"20px",gridTemplateAreas:'"content1 content2" "content3 content4" "content5 content5"'},children:[(0,v.jsxs)("fieldset",{style:{display:"flex",flexDirection:"column",gap:"10px",gridArea:"content1",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px"},children:[(0,v.jsx)("legend",{style:{color:"#065f46"},children:"Insurer Information"}),(0,v.jsxs)("div",{style:{display:"flex",columnGap:"10px"},children:[(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Client ID",name:"client_id",value:n.client_id,onChange:_,InputProps:{readOnly:!0}}),(0,v.jsx)(d.Z,{disabled:R,"aria-label":"search-client",color:"secondary",onClick:function(){return F(!0)},children:(0,v.jsx)(h.Z,{})})]}),(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Client Name",name:"client_name",value:n.client_name,onChange:_,InputProps:{readOnly:!0}}),(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Client Address",rows:3,multiline:!0,name:"client_address",value:n.client_address,onChange:_,InputProps:{readOnly:!0}})]}),(0,v.jsxs)("fieldset",{style:{display:"flex",flexDirection:"column",gap:"10px",gridArea:"content2",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px"},children:[(0,v.jsx)("legend",{style:{color:"#065f46"},children:"Agent Information"}),(0,v.jsxs)("div",{style:{display:"flex",columnGap:"10px"},children:[(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Agent ID",name:"agent_id",value:n.agent_id,onChange:_,InputProps:{readOnly:!0}}),(0,v.jsx)(d.Z,{disabled:R,"aria-label":"search-client",color:"secondary",onClick:function(){return U(!0)},children:(0,v.jsx)(h.Z,{})})]}),(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Agent Name",name:"agent_name",value:n.agent_name,onChange:_,InputProps:{readOnly:!0}}),(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Commission",name:"agent_com",value:n.agent_com,onChange:_})]}),(0,v.jsxs)("fieldset",{style:{display:"flex",flexDirection:"column",gap:"10px",gridArea:"content3",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px"},children:[(0,v.jsx)("legend",{style:{color:"#065f46"},children:"Vehivle Policy"}),(0,v.jsxs)(s.Z,{size:"small",fullWidth:!0,disabled:R,children:[(0,v.jsx)(r.Z,{id:"PolicyAccount",children:"Account"}),(0,v.jsx)(c.Z,{labelId:"PolicyAccount",value:n.PolicyAccount,label:"Account",name:"PolicyAccount",onChange:_,children:W.data.vehiclePolicy.policy_account["".concat(n.form_type.toLowerCase())].map((function(e,l){return(0,v.jsx)(u.Z,{value:e.Account,children:e.Account},l)}))})]}),"tpl"===n.form_type.toLowerCase()?(0,v.jsx)(i.Fragment,{children:S?(0,v.jsx)("div",{children:"Loading IDs Please wait..."}):(0,v.jsxs)("div",{style:{display:"flex",columnGap:"10px"},children:[(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Policy No",name:"PolicyNo",value:n.PolicyNo,onChange:_,InputProps:{readOnly:!0}}),(0,v.jsx)(d.Z,{disabled:R,"aria-label":"search-client",color:"secondary",onClick:function(){return H(!0)},children:(0,v.jsx)(x.Z,{})})]})}):"REG"===n.form_action?(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Policy No.",name:"PolicyNo",value:n.PolicyNo,onChange:_}):(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Policy No.",name:"PolicyNo",value:n.PolicyNo,onChange:_,InputProps:{readOnly:!0}}),(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Certificate of Cover No.",name:"CCN",value:n.CCN,onChange:_}),(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Official Receipt No.",name:"ORN",value:n.ORN,onChange:_})]}),(0,v.jsxs)("fieldset",{style:{display:"flex",flexDirection:"column",gap:"10px",gridArea:"content4",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px"},children:[(0,v.jsx)("legend",{style:{color:"#065f46"},children:"Period of Insurance"}),(0,v.jsx)(f.Z,{disabled:R,label:"Date From",onChange:function(e){P(e,"DateFrom")},value:new Date(n.DateFrom)}),(0,v.jsx)(f.Z,{disabled:R,label:"Date To",onChange:function(e){P(e,"DateTo")},value:new Date(n.DateTo)}),(0,v.jsx)(f.Z,{label:"Date Issued",name:"DateIssued",onChange:function(e){P(e,"DateIssued")},value:new Date(n.DateIssued),disabled:R})]}),(0,v.jsxs)("fieldset",{style:{display:"flex",gap:"20px",gridArea:"content5",padding:"15px",border:"1px solid #cbd5e1",borderRadius:"5px"},children:[(0,v.jsx)("legend",{style:{color:"#065f46"},children:"Insured Unit"}),(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",gridArea:"content4",flex:1},children:[(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Model",name:"Model",value:n.Model,onChange:_}),(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Make",name:"Make",value:n.Make,onChange:_}),(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Type of Body",name:"TB",value:n.TB,onChange:_}),(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Color",name:"Color",value:n.Color,onChange:_}),(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"BLT File No",name:"BLTFileNo",value:n.BLTFileNo,onChange:_})]}),(0,v.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",gridArea:"content4",flex:1},children:[(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Plate No",name:"PlateNo",value:n.PlateNo,onChange:_}),(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Chassis No",name:"ChassisNo",value:n.ChassisNo,onChange:_}),(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Motor No.",name:"MotorNo",value:n.MotorNo,onChange:_}),(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Authorized Capacity",name:"AuthorizedCapacity",value:n.AuthorizedCapacity,onChange:_}),(0,v.jsx)(o.Z,{disabled:R,fullWidth:!0,variant:"outlined",size:"small",label:"Unladen Weigth",name:"UnladenWeigth",value:n.UnladenWeigth,onChange:_})]})]})]}),(0,v.jsx)(g.Z,{showModal:L,onCloseModal:function(){F(!1)},onClickCloseIcon:function(){F(!1)},searchOnChange:function(e){w.get("/task/production/search-client-vehicle-policy?clientSearch=".concat(e.target.value),{headers:{Authorization:"Bearer ".concat(null===z||void 0===z?void 0:z.accessToken)}}).then((function(e){var l;if(null===e||void 0===e||!e.data.success)return alert("Error : ".concat(null===e||void 0===e?void 0:e.data.message));I(null===e||void 0===e||null===(l=e.data.vehiclePolicy)||void 0===l?void 0:l.clients)}))},height:300,isLoading:N,queryKey:C,columns:p,onSelectionChange:function(e,l){if(!(e.length<=0)){var n=new Set(e),a=l.filter((function(e){return n.has(e.entry_client_id.toString())}));a.length<=0||(P(a[0].entry_client_id,"client_id"),P(a[0].fullname,"client_name"),P(a[0].address,"client_address"),F(!1))}},id:"entry_client_id",rows:Z,setRows:I}),(0,v.jsx)(g.Z,{showModal:G,onCloseModal:function(){U(!1)},onClickCloseIcon:function(){U(!1)},searchOnChange:function(e){w.get("/task/production/search-agent-vehicle-policy?agentSearch=".concat(e.target.value),{headers:{Authorization:"Bearer ".concat(null===z||void 0===z?void 0:z.accessToken)}}).then((function(e){var l;if(null===e||void 0===e||!e.data.success)return alert("Error : ".concat(null===e||void 0===e?void 0:e.data.message));A(null===e||void 0===e||null===(l=e.data.vehiclePolicy)||void 0===l?void 0:l.agents)}))},height:300,isLoading:N,queryKey:b,columns:y,onSelectionChange:function(e,l){if(!(e.length<=0)){var n=new Set(e),a=l.filter((function(e){return n.has(e.entry_agent_id.toString())}));a.length<=0||(P(a[0].entry_agent_id,"agent_id"),P(a[0].fullname,"agent_name"),U(!1))}},id:"entry_agent_id",rows:D,setRows:A}),(0,v.jsx)(g.Z,{showModal:V,onCloseModal:function(){H(!1)},onClickCloseIcon:function(){H(!1)},searchOnChange:function(e){w.get("/task/production/tpl-ids-vehicle-policy?tplIDSearch=".concat(e.target.value),{headers:{Authorization:"Bearer ".concat(null===z||void 0===z?void 0:z.accessToken)}}).then((function(e){if(null===e||void 0===e||!e.data.success)return alert("Error : ".concat(null===e||void 0===e?void 0:e.data.message));M(null===e||void 0===e?void 0:e.data)}))},height:300,isLoading:S,queryKey:j,columns:m,onSelectionChange:function(e,l){if(!(e.length<=0)){var n=new Set(e),a=l.filter((function(e){return n.has(e.Source_No.toString())}));a.length<=0||(P(a[0].Source_No,"PolicyNo"),P(a[0].Cost,"rateCost"),P(a[0].Source_No_Ref_ID,"Source_No_Ref_ID"),H(!1))}},id:"Source_No",rows:null===k||void 0===k||null===(e=k.vehiclePolicy)||void 0===e?void 0:e.tpl,setRows:M})]})}},1421:function(e,l,n){var a=n(4836);l.Z=void 0;var i=a(n(5649)),t=n(184),o=(0,i.default)([(0,t.jsx)("circle",{cx:"10",cy:"8",r:"4"},"0"),(0,t.jsx)("path",{d:"M10.35 14.01C7.62 13.91 2 15.27 2 18v2h9.54c-2.47-2.76-1.23-5.89-1.19-5.99zm9.08 4.01c.36-.59.57-1.28.57-2.02 0-2.21-1.79-4-4-4s-4 1.79-4 4 1.79 4 4 4c.74 0 1.43-.22 2.02-.57L20.59 22 22 20.59l-2.57-2.57zM16 18c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"},"1")],"PersonSearch");l.Z=o}}]);
//# sourceMappingURL=1121.9444b8e4.chunk.js.map